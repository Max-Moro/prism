# Введение: зачем компании нужен PRISM

## 1. Предпосылки
За последние 3–4 года наши проекты по внедрению ИС резко усложнились:
- **Гетерогенные заказчики**: от региональных застройщиков до федеральных госкорпораций.
- **Модульные поставки**: каждая продуктовая сборка включает уникальный набор бизнес‑модулей.
- **Мульти‑зонная эксплуатация**: PROD × N, PRE‑PROD, Test, DMZ / KSPD, локальные филиалы.
- **Контейнеризация и managed‑сервисы**: DevOps‑команды клиентов всё чаще требуют «не говорите, сколько серверов — скажите, какие API и SLA».  

Прежний способ—рассылаемый Excel‑лист «Железо и ВМ»—перестал работать:
1. **Неуниверсальность**: таблицу приходилось вручную править под каждый модуль и окружение.
2. **Невоспроизводимость**: формулы зарыты в ячейках, допущение одного инженера ≠ допущение другого.
3. **Трудоёмкость пресейла**: на цикл «опрос бизнеса → расчёт ресурса → уточнение» уходили недели.
4. **Опасные устаревания**: версии PostgreSQL, Kafka, S3‑совместимых решений менялись, таблица «дрейфовала».

## 2. Цели PRISM
| Цель | Как PRISM помогает |
|------|--------------------|
| **Скорость** | Формирует тендерный сайзинг за минуты на базе YAML‑профиля. |
| **Точность** | Единый проверенный движок формул = одинаковый результат при любых руках. |
| **Гибкость** | Поддержка self‑hosted / managed, single‑AZ / multi‑AZ, S3 / FS профилей. |
| **Прозрачность** | YAML‑входные данные хранятся в Git → full audit trail. |
| **Самообслуживание** | UI позволяет менеджеру заказчика самодиагностировать «что будет, если пользователей x2». |
| **Интеграция** | JSON‑вывод можно подключить к Terraform / Ansible для автогенерации IaC. |

## 3. Задачи, которые решает инструмент
1. **Сайзинг «сверху вниз»**: от бизнес‑метрик (RPS, GB, users) к CPU, RAM, IOPS.
2. **Версионированные профили модулей**: каждая команда разработки публикует спецификацию своего сервиса.
3. **Многозонная математика**: автоматическое умножение ресурсов на PROD‑1, PROD‑2, Test, DR‑site.
4. **Учёт ограничений инфраструктуры**: отсутствие S3, разделённые сети — переключаем профили, а не переписываем расчёт.
5. **Шаблоны готовых отчётов**: XLSX для технарей, PDF/HTML — прямо в тендер.

## 4. Почему проект актуален именно сейчас
- **Рынок ИТ‑строительства** вошёл в фазу укрупнения заказов → стоимость ошибки в сайзинге растёт.
- **Контейнерные платформы de‑facto стандарт**: KPI требуют быстрой адаптации под любой Kubernetes‑кластер.
- **Рост регуляторных требований** (152‑ФЗ, ФСТЭК): нужно чётко показать, какие RPO / RTO выполняем.
- **Переход на Git‑центричную разработку**: удобно встроить PRISM в pull‑request flow.

## 5. Ключевые стейкхолдеры и сценарии
| Роль | Как использует PRISM | Выгода |
|------|---------------------|--------|
| **Pre‑sale инженер** | Загружает шаблон профиля, меняет 3–4 параметра, генерирует PDF для КП. | Экономия до 80 % времени расчёта. |
| **Проектный менеджер** | В админ‑панели фиксирует состав модулей и SLA. | Исключает расхождения между ТЗ и фактом. |
| **Менеджер заказчика** | В UI «крутит ручки» нагрузки и скачивает обновлённый budget‑estimate. | Больше автономии, меньше писем «а если пользователей станет х2?». |
| **DevOps заказчика** | Получает XLSX с CPU/RAM/IOPS + JSON для Terraform. | Быстрее запускает PoC и PROD. |

## 6. Границы проекта (Scope)
**Входит**:
- Моделирование ресурсов для бизнес‑сервисов и стандартных инфраструктур (PostgreSQL, Kafka, S3, ClickHouse).
- Учёт зон (Prod, Test, DR) и сетевых сегментов (DMZ / KSPD).
- Вывод в XLSX, PDF/HTML, JSON.

**Не входит** (пока):
- Генерация фактических Helm‑чартов.
- Мониторинг исполнения сайзинга в рантайме.
- Оптимизация стоимости по тарифам конкретных облаков.

## 7. Критерии успеха (KPIs)
| Показатель | Целевое значение к v1.0 |
|------------|-------------------------|
| Время подготовить тендерный отчёт | ≤ 15 минут от YAML‑брифа |
| Несоответствий между расчётом и продом | ≤ 5 % по CPU/RAM |
| Кол-во внешних заказчиков, использующих UI | ≥ 5 в течение полугода |
| PR merge‑time на обновление формул | ≤ 1 день |


